<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSR Learning Session Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        
        :root { 
            --primary: #0f172a;
            --accent: #2563eb;
            --bg-soft: #f8fafc;
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--bg-soft);
            color: var(--primary);
            scroll-behavior: smooth; 
        }

        .glass-nav { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(12px); 
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }

        .hero-gradient {
            background: radial-gradient(circle at top right, #eff6ff 0%, #ffffff 100%);
        }

        .premium-card {
            background: white;
            border: 1px solid #e2e8f0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2rem;
        }

        .premium-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 10px 10px -5px rgba(0, 0, 0, 0.02);
            border-color: #bfdbfe;
        }

        .calendar-day { 
            min-height: 110px; 
            background: white;
            transition: background 0.2s ease;
        }
        
        .calendar-day:hover { background: #f1f5f9; }

        .agenda-item {
            border-left: 3px solid #e2e8f0;
            padding-left: 1rem;
            transition: border-color 0.3s;
        }
        .agenda-item:hover {
            border-left-color: #2563eb;
        }

        .skeleton {
            background: linear-gradient(90deg, #f1f5f9 25%, #e2e8f0 50%, #f1f5f9 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="glass-nav sticky top-0 z-50 px-6 py-4 md:px-12 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                <i class="fa-solid fa-graduation-cap text-white text-lg"></i>
            </div>
            <div>
                <h1 class="font-extrabold text-xl tracking-tighter text-slate-900 leading-none">GSR HUB</h1>
                <p class="text-[9px] font-bold text-blue-500 uppercase tracking-widest mt-1">Learning Session Hub</p>
            </div>
        </div>
        
        <div class="hidden md:flex gap-10 font-bold text-xs text-slate-500 uppercase tracking-widest">
            <a href="#repository" class="hover:text-blue-600 transition">Repository</a>
            <a href="#calendar" class="hover:text-blue-600 transition">Calendar</a>
        </div>

        <!-- Linked directly to Google Form, No Popup -->
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSd-PzSBp_N8uilT5QSumQi1bzkAR-OHRBcCt-cA7_fq1euv4Q/viewform" target="_blank" class="bg-slate-900 text-white px-6 py-3 rounded-full text-xs font-black uppercase tracking-widest hover:bg-blue-600 transition shadow-xl shadow-slate-200 flex items-center gap-2">
            Volunteer <i class="fa-solid fa-external-link text-[10px]"></i>
        </a>
    </nav>

    <main class="max-w-7xl mx-auto px-4 md:px-8 py-10 space-y-20">
        
        <!-- Hero Section -->
        <section class="hero-gradient rounded-[2.5rem] p-10 md:p-16 border border-slate-200 flex flex-col lg:flex-row items-center gap-12 relative overflow-hidden">
            <div class="flex-1 space-y-6">
                <div class="inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em]">
                    Service Readiness Central
                </div>
                <h2 class="text-5xl md:text-6xl font-black text-slate-900 leading-[1.1] tracking-tight">
                    Unified GSR <br><span class="text-blue-600">Learning Insights</span>
                </h2>
                <p class="text-slate-500 text-lg md:text-xl leading-relaxed max-w-2xl font-medium">
                    The central repository for Readiness recordings, technical decks, and our global monthly delivery schedule.
                </p>
                <div class="flex flex-wrap gap-4 pt-4">
                    <a href="#repository" class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-black shadow-2xl shadow-blue-200 hover:bg-blue-700 transition flex items-center gap-3">
                        Enter Repository <i class="fa-solid fa-chevron-right text-xs"></i>
                    </a>
                </div>
            </div>

            <!-- Spotlight Card: Feb 27 Agenda -->
            <div class="w-full lg:w-[420px] bg-white rounded-3xl p-8 shadow-2xl shadow-slate-200 border border-slate-100 relative">
                <div class="flex justify-between items-center mb-6 border-b border-slate-50 pb-4">
                    <div>
                        <p class="text-[10px] font-black text-blue-500 uppercase tracking-[0.2em]">Feb Session Agenda</p>
                        <p class="text-xs font-bold text-slate-400 mt-1">Host: Emma Dolan</p>
                    </div>
                    <span class="text-[10px] font-bold text-white bg-blue-600 px-3 py-1 rounded-full animate-pulse tracking-widest uppercase">Feb 27</span>
                </div>
                
                <div class="space-y-6">
                    <div class="agenda-item">
                        <div class="flex justify-between items-start">
                            <h4 class="font-bold text-slate-900 text-sm">Dan Todd</h4>
                            <span class="text-[9px] font-black text-slate-300 uppercase">25m</span>
                        </div>
                        <p class="text-xs text-slate-500 font-medium leading-relaxed">GitHub + AI Usage Discussion: Leading as GSR.</p>
                    </div>

                    <div class="agenda-item">
                        <div class="flex justify-between items-start">
                            <h4 class="font-bold text-slate-900 text-sm">Richard Hennessey</h4>
                            <span class="text-[9px] font-black text-slate-300 uppercase">20m</span>
                        </div>
                        <p class="text-xs text-slate-500 font-medium leading-relaxed">Low Complexity SOP Overview.</p>
                    </div>

                    <div class="agenda-item">
                        <div class="flex justify-between items-start">
                            <h4 class="font-bold text-slate-900 text-sm">Belen Delgado</h4>
                            <span class="text-[9px] font-black text-slate-300 uppercase">10m</span>
                        </div>
                        <p class="text-xs text-slate-500 font-medium leading-relaxed">GSR Mentoring Plan Launch.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Search & Repository -->
        <section id="repository" class="space-y-10">
            <div class="flex flex-col md:flex-row justify-between items-end gap-6">
                <div>
                    <h2 class="text-3xl font-black text-slate-900">Learning Repository</h2>
                    <p class="text-slate-500 font-medium">Search past sessions, speakers, and resources.</p>
                </div>
                <div class="relative w-full md:w-96 group">
                    <i class="fa-solid fa-magnifying-glass absolute left-5 top-1/2 -translate-y-1/2 text-slate-300 transition-colors group-focus-within:text-blue-600"></i>
                    <input type="text" id="searchInput" placeholder="Search resources..." class="w-full pl-14 pr-6 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:border-blue-500 transition-all shadow-sm bg-white font-medium">
                </div>
            </div>

            <div id="repoGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="premium-card p-8 h-80 skeleton"></div>
                <div class="premium-card p-8 h-80 skeleton"></div>
                <div class="premium-card p-8 h-80 skeleton"></div>
            </div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar" class="space-y-8 pb-10">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div>
                    <h2 class="text-3xl font-black text-slate-900">Live Calendar</h2>
                    <p class="text-slate-500 font-medium">Stay updated on future delivery slots.</p>
                </div>
                <div class="flex items-center gap-2 bg-white border border-slate-200 rounded-2xl p-1.5 shadow-sm">
                    <button onclick="changeMonth(-1)" class="w-10 h-10 flex items-center justify-center hover:bg-slate-50 rounded-xl transition text-slate-400 hover:text-blue-600"><i class="fa-solid fa-chevron-left"></i></button>
                    <span id="calendarTitle" class="font-bold px-4 text-slate-700 min-w-[140px] text-center text-sm uppercase tracking-widest"></span>
                    <button onclick="changeMonth(1)" class="w-10 h-10 flex items-center justify-center hover:bg-slate-50 rounded-xl transition text-slate-400 hover:text-blue-600"><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>

            <div class="bg-white border border-slate-200 rounded-[2rem] overflow-hidden shadow-xl shadow-slate-100">
                <div class="grid grid-cols-7 border-b border-slate-100 bg-slate-50/50" id="calendarHeaders"></div>
                <div id="calendarGrid" class="grid grid-cols-7 divide-x divide-y divide-slate-100"></div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 py-16 text-center text-slate-600 text-[10px] font-black tracking-[0.5em] uppercase">
        GSR HUB &bull; VERSION 2.9
    </footer>

    <script>
        const GOOGLE_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSd-PzSBp_N8uilT5QSumQi1bzkAR-OHRBcCt-cA7_fq1euv4Q/viewform";

        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let data = { sessions: [], events: {} };

        async function loadData() {
            try {
                const response = await fetch('./data.json?t=' + Date.now());
                if (response.ok) {
                    data = await response.json();
                }
            } catch (e) {
                console.warn("Load failed, using default structure.");
            }
            init();
        }

        function init() {
            renderRepository();
            renderCalendar();
        }

        function renderRepository() {
            const grid = document.getElementById('repoGrid');
            if (data.sessions.length === 0) return;
            grid.innerHTML = data.sessions.map(s => `
                <div class="premium-card p-8 flex flex-col h-full session-card" data-search="${s.title.toLowerCase()} ${s.speaker.toLowerCase()}">
                    <div class="flex justify-between items-start mb-8"><span class="text-[9px] font-black text-blue-600 uppercase tracking-[0.2em] bg-blue-50 px-3 py-1 rounded-full">${s.month}</span></div>
                    <h3 class="text-xl font-extrabold text-slate-900 mb-4 leading-tight">${s.title}</h3>
                    <p class="text-slate-500 text-sm mb-8 line-clamp-3 font-medium leading-relaxed">${s.summary}</p>
                    <div class="mt-auto">
                        <div class="flex items-center gap-3 mb-8">
                            <div class="w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center font-black text-slate-400 text-xs uppercase">${s.speaker.split(',')[0][0]}</div>
                            <span class="font-bold text-slate-700 text-sm truncate">${s.speaker}</span>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <a href="${s.recording}" target="_blank" class="flex items-center justify-center gap-2 bg-slate-900 py-4 rounded-2xl text-[10px] font-black text-white hover:bg-blue-600 transition tracking-widest uppercase italic">Recording</a>
                            <a href="${s.deck}" target="_blank" class="flex items-center justify-center gap-2 bg-white border border-slate-200 py-4 rounded-2xl text-[10px] font-black text-slate-600 hover:border-blue-600 transition tracking-widest uppercase italic">Deck</a>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderCalendar() {
            const grid = document.getElementById('calendarGrid');
            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            document.getElementById('calendarTitle').innerText = `${months[currentMonth]} ${currentYear}`;
            grid.innerHTML = '';
            document.getElementById('calendarHeaders').innerHTML = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"].map(h => `<div class="p-4 text-center text-[9px] font-black text-slate-400 uppercase tracking-widest">${h}</div>`).join('');
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            for (let i = 0; i < firstDay; i++) grid.innerHTML += `<div class="calendar-day bg-slate-50/20"></div>`;
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dateKey = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const ev = data.events[dateKey];
                grid.innerHTML += `
                    <div class="calendar-day p-4 border-r border-b border-slate-100 relative">
                        <div class="text-[10px] font-black text-slate-300 mb-2">${day}</div>
                        ${ev ? (ev.type === 'booked' ? `
                            <div class="p-2.5 bg-blue-600 rounded-xl shadow-lg shadow-blue-100">
                                <p class="text-[8px] font-black text-white leading-tight uppercase truncate">${ev.title}</p>
                            </div>
                        ` : `
                            <a href="${GOOGLE_FORM_URL}" target="_blank" class="block p-2.5 bg-emerald-50 border border-emerald-100 rounded-xl cursor-pointer hover:bg-emerald-100 transition text-center animate-pulse">
                                <p class="text-[8px] font-black text-emerald-700 uppercase">Open</p>
                            </a>
                        `) : ''}
                    </div>
                `;
            }
        }

        function changeMonth(dir) { currentMonth += dir; if (currentMonth > 11) { currentMonth = 0; currentYear++; } else if (currentMonth < 0) { currentMonth = 11; currentYear--; } renderCalendar(); }
        
        document.getElementById('searchInput').addEventListener('input', (e) => { const q = e.target.value.toLowerCase(); document.querySelectorAll('.session-card').forEach(c => { c.style.display = c.dataset.search.includes(q) ? 'flex' : 'none'; }); });
        loadData();
    </script>
</body>
</html>
